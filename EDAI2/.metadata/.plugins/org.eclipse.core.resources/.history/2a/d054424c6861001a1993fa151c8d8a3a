package org.eda2;

public class Damero {
	private int filas;
	private int columnas; 
	private ParEdificios[][] pEdificios;
	
	
	/**
	 * Nuestro Damero viene representado por pares de calles.
	 * @param filas
	 * @param columnas
	 */
	public Damero(int filas, int columnas) {
		this.filas = filas;
		this.columnas = columnas;
		
		if (filas%2==0) pEdificios = new ParEdificios[filas/2][columnas]; //i vale la mitad porque unimos dos columnas
		else pEdificios = new ParEdificios[(filas+1)/2][columnas];
		for(int a=0; a<pEdificios.length; a++) {
			for(int b=0; b<pEdificios[a].length; b++) {
				pEdificios[a][b] = new ParEdificios();
			}
		}
	}
	
	
	public void inicializarContadores() {
		if (pEdificios.length%2==0) inicializarContadoresPar();
		else inicializarContadoresImpar();
	}
	
	private void inicializarContadoresPar() {
		for(int j=0; j<pCalles[0].length; j++) {
			for(int i=0; i<pCalles.length; i++) {
				this.pCalles[i][j].setcDerecha(new Contador());
				this.pCalles[i][j].setcIzquierda(new Contador());
				if (j==pCalles[0].length-1 && i != pCalles.length-1) this.pCalles[i][j].setcMorado(new Contador());
				if (j!=0&&j!=pCalles[0].length-1)this.pCalles[i][j].setcVerde(new Contador());
			}
		}
	}
	
	private void inicializarContadoresImpar() {
//		inicializarContadoresPar();
		for (int j = 0;j<pCalles[0].length;j++) {
			this.pCalles[0][j].setcIzquierda(null);
		}
	}
	
	
}
